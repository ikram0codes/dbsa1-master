import{r as m,j as e,L as o,a as f}from"./index-C4qijYKD.js";import{i as h}from"./orderSlice-gK3h9E1T.js";import{M as p}from"./Message-DtjI_lB4.js";import{B as c}from"./react-toastify.esm-BahYd6mB.js";const w=()=>{var n;const[l,r]=m.useState(1),{data:s,isLoading:d,error:a}=h({page:l}),i=()=>{(s==null?void 0:s.numOfOrders)/5+1>l?r(l+1):c.error("no more items")},x=()=>{console.log(l),l>1?r(l-1):c.error("first page")};return d?e.jsx(o,{}):a?e.jsx(p,{variant:"danger",children:((n=a==null?void 0:a.data)==null?void 0:n.message)||a.error}):e.jsxs("div",{className:"w-full flex flex-col items-start overflow-x-auto sm:overflow-x-scroll p-4 md:p-0",children:[e.jsx("h1",{className:"text-[22px] font2 font-[500] p-4 text-center",children:"All Orders"}),e.jsxs("table",{className:"mt-8 font2 w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"mb-[5rem] text-[14px] font-[700]",children:[e.jsx("th",{className:"",children:"ITEM"}),e.jsx("th",{className:"",children:"USER"}),e.jsx("th",{className:"",children:"DATE"}),e.jsx("th",{className:"",children:"TOTAL"}),e.jsx("th",{className:"",children:"PAID"}),e.jsx("th",{className:"",children:"DELIVERED"}),e.jsx("th",{})]})}),e.jsx("tbody",{className:"text-[16px] font-[400] font2",children:s==null?void 0:s.orders.map(t=>e.jsxs("tr",{children:[e.jsx("td",{"data-cell":"ITEM",children:e.jsx("img",{src:t.orderItems[0].mainImage,alt:t._id,className:"w-[5rem] m-auto pt-4 object-contain"})}),e.jsx("td",{"data-cell":"USER",className:"min-w-[125px] text-[#525CEB] capitalize ",children:t.user?t.user.username:"N/A"}),e.jsx("td",{"data-cell":"DATE",className:"min-w-[125px]",children:t.createdAt?t.createdAt.substring(0,10):"N/A"}),e.jsxs("td",{"data-cell":"TOTAL",className:"min-w-[125px]",children:["R ",t.totalPrice]}),e.jsx("td",{"data-cell":"PAID",className:"py-2  ",children:t.isPaid?e.jsx("p",{className:"p-1 text-center m-auto text-[#f7f7f8] bg-green-400 w-[6rem] rounded-full",children:"Completed"}):e.jsx("p",{className:"p-1 text-center m-auto text-[#f7f7f8] bg-red-400 w-[6rem] rounded-full",children:"Pending"})}),e.jsx("td",{"data-cell":"DELIVERED",className:"px-2 py-2",children:t.isDelivered?e.jsx("p",{className:"p-1 text-center m-auto text-[#f7f7f8] bg-green-400 w-[6rem] rounded-full",children:"Completed"}):e.jsx("p",{className:"p-1 text-center m-auto text-[#f7f7f8] bg-red-400 w-[6rem] rounded-full",children:"Pending"})}),e.jsx("td",{children:e.jsx(f,{to:`/order/${t._id}`,children:e.jsx("button",{children:"More"})})})]},t._id))})]}),e.jsxs("div",{className:"w-full flex justify-between items-center gap-4 mt-6 p-8 flex-wrap",children:[e.jsxs("div",{className:"uppercase text-gray-400 font2 font-[500] ",children:["total ",s==null?void 0:s.numOfOrders," Products in"," ",Math.ceil((s==null?void 0:s.numOfOrders)/5)," pages"," "]}),e.jsxs("div",{className:"gap-3 px-2 flex justify-end",children:[e.jsx("button",{onClick:x,className:"rounded-md bg-[#525CEB] text-white p-2",children:"Prev"}),e.jsx("button",{className:"w-[40px] text-[white] p-2 h-[40px] rounded-md bg-[#525CEB]",children:l}),e.jsx("button",{onClick:i,className:"rounded-md bg-[#525CEB] text-white p-2",children:"Next"})]})]})]})};export{w as default};
