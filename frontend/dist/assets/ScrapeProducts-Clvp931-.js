import{r as o,j as e}from"./index-C4qijYKD.js";import{B as l}from"./react-toastify.esm-BahYd6mB.js";import{u as L}from"./categorySlice-YaKL1Zx5.js";import{u as R}from"./brandSlice-JKhWF79c.js";import{a as z}from"./axios-Cm0UX6qg.js";const w=z.create({baseURL:"http://localhost:5000/api/scrapper",headers:{"Content-Type":"application/json"},withCredentials:!0}),I=s=>l.promise(s,{pending:"Scraping in progress...",success:"Scraping successful ðŸ‘Œ",error:"Scraping failed ðŸ¤¯"},{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),M=async s=>{const n=w.post("/chintglobal",{url:s});I(n);try{return await n}catch(r){return l.error(r.message),null}},O=async s=>{const n=w.post("/abb",{url:s});I(n);try{return await n}catch(r){return l.error(r.message),null}},Q=async s=>{const n=w.post("/se",{url:s});I(n);try{return await n}catch(r){return l.error(r.message),null}},H=async s=>{var n,r;try{const c=await w.post("/saveproduct",s);return console.log(c),l.success(c.data.message),null}catch(c){return console.log(c),l.error(((r=(n=c.response)==null?void 0:n.data)==null?void 0:r.message)||c.message),null}},Z=()=>{const[s,n]=o.useState(""),[r,c]=o.useState(""),[i,y]=o.useState(""),[m,p]=o.useState(""),[j,h]=o.useState(""),[k,D]=o.useState(""),[B,P]=o.useState(0),[f,g]=o.useState(""),[v,F]=o.useState(""),[N,U]=o.useState(""),[b,q]=o.useState(""),{data:S}=L(),{data:C}=R(),[d,A]=o.useState(""),[x,$]=o.useState(""),G=["ChintGlobal","Abb","SchneiderElecric"],[T,E]=o.useState(!1),W=async()=>{if(d==="")return l.error("Enter A Url");const t=new URL(d);if(!x)return l.error("Choose a website");try{if(x==="ChintGlobal"&&t.hostname==="chintglobal.com"){let a=(await M(d)).data.product;return n(a.mainImage),c(a.sideImage1),y(a.sideImage2),g(a.name),p(a.description),h(a.information),E(!1),null}if(x==="Abb"&&t.hostname==="new.abb.com"){let a=(await O(d)).data.product;return n(a.mainImage),c(a.sideImage1),y(a.sideImage2),g(a.name),p(a.description),h(a.information),E(!1),null}if(x==="SchneiderElecric"&&t.hostname==="www.se.com"){let a=(await Q(d)).data.product;return n(a.mainImage),c(a.sideImage1),y(a.sideImage2),g(a.name),h(j),p(a.description),E(!1),null}return l.error("Url and Website Don't Match!")}catch(u){return l.error(u.message)}},_=async()=>{switch(!0){case!f:return l.error("Name is required!");case!v:return l.error("price is required!");case!N:return l.error("category is required!");case!b:return l.error("Brand is required!");case!m:return l.error("Description is required!");case!s:return l.error("Image1 is required!");case!r:return l.error("Image2 is required!");case!i:return l.error("Image3 is required!")}await H({name:f,description:m,information:j,image1:s,image2:r,image3:i,category:N,brand:b,price:v,discount:k,stock:B})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen w-full font2  flex flex-col items-center p-4 overflow-x-hidden",children:[e.jsx("div",{className:"text-gray-500 font2 text-2xl mt-5 tracking-wider text-center",children:"Scrape Product Then Upload It"}),e.jsxs("div",{className:"w-full h-max p-[16px]",children:[e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"w-full h-max flex justify-between items-center sm:flex-col gap-[20px]",children:[e.jsxs("div",{className:"flex font2 flex-col w-[45%] sm:w-full gap-2",children:[e.jsx("label",{htmlFor:"url",className:"text-gray-500 text-xl",children:"Url"}),e.jsx("input",{type:"text",name:"url",id:"url",placeholder:"Enter The Url",value:d,onChange:t=>{A(t.target.value)},className:"px-5 font2 py-3 border-2  border-gray-400 focus:outline-none rounded-md"})]}),e.jsxs("div",{className:"flex flex-col w-[45%] sm:w-full  gap-2",children:[e.jsx("label",{htmlFor:"website",className:"text-gray-500 text-xl",children:"Choose Website"}),e.jsxs("select",{name:"website",id:"website",placeholder:"Choose Website",value:b,onChange:t=>{$(t.target.value)},className:"px-5 py-3 border-2 border-gray-400 focus:outline-none rounded-md",children:[e.jsx("option",{value:"",children:x||"Select"}),G.map((t,u)=>e.jsx("option",{value:t,children:t},u+11))]})]})]}),e.jsx("div",{className:"w-full flex mt-5",children:e.jsx("button",{disabled:s!==""||f!==""||m!==""||T,onClick:W,className:"w-[160px] bg-[#525CEB] capitalize text-[18px] tracking-wider font-[350] py-3 rounded-lg text-white",children:"Scrape Data"})})]}),e.jsxs("div",{className:"flex justify-around flex-wrap gap-7 mt-7 items-center ",children:[e.jsxs("div",{className:"flex font2 relative w-[320px] group h-[320px] justify-center items-center bg-[#EDEBE9] rounded-[20px]",children:[e.jsx("img",{src:s,alt:"",className:`w-[250px] h-[250px] object-contain ${s?"block":"hidden"} `}),e.jsx("div",{className:"absolute w-[320px] h-[320px] left-0 top-0",children:e.jsx("label",{className:`w-full overflow-hidden shadow-md shadow-slate-400 h-full bg-[#EDEBE9] flex-wrap text-black ${s?"hidden":"flex"} rounded-[20px] group-hover:flex justify-center items-center gap-2 flex-col px-10 py-8`,children:s?s.name:"Product Main Image"})})]}),e.jsxs("div",{className:"flex relative w-[320px] group h-[320px] justify-center items-center bg-[#EDEBE9] rounded-[20px]",children:[e.jsx("img",{src:r,alt:"",className:`w-[250px] h-[250px] object-contain ${r?"block":"hidden"} `}),e.jsx("div",{className:"absolute overflow-hidden  w-[320px] h-[320px] left-0 top-0",children:e.jsx("label",{className:`w-full h-full bg-[#EDEBE9] flex-wrap text-black ${r?"hidden":"flex"} rounded-[20px] group-hover:flex justify-center items-center gap-2 flex-col px-10 py-8`,children:r?r.name:"Product Side Image 1"})})]}),e.jsxs("div",{className:"flex relative w-[320px] group h-[320px] justify-center items-center bg-[#EDEBE9] rounded-[20px]",children:[e.jsx("img",{src:i,alt:"",className:`w-[250px] h-[250px] object-contain ${i?"block":"hidden"} `}),e.jsx("div",{className:"absolute w-[320px] h-[320px] left-0 top-0",children:e.jsx("label",{className:`w-full overflow-hidden h-full shadow-md shadow-slate-400 bg-[#EDEBE9] flex-wrap text-black ${i?"hidden":"flex"} rounded-[20px] group-hover:flex justify-center items-center gap-2 flex-col px-10 py-8`,children:i?i.name:"Product Side Image 2"})})]})]}),e.jsxs("div",{className:"w-full flex flex-wrap justify-between gap-4 mt-5",children:[e.jsxs("div",{className:"flex flex-col w-[45%] sm:w-full gap-2",children:[e.jsx("label",{htmlFor:"name",className:"text-gray-500 text-xl",children:"Name"}),e.jsx("input",{type:"text",name:"name",id:"name",placeholder:"Name",value:f,onChange:t=>{g(t.target.value)},className:"px-5 py-3 border-2 border-gray-400 focus:outline-none rounded-md"})]}),e.jsxs("div",{className:"flex flex-col w-full mt-4",children:[e.jsx("label",{htmlFor:"description",className:"text-gray-500 text-xl",children:"Description"}),e.jsx("textarea",{type:"text",name:"description",id:"description",placeholder:"description",value:m,onChange:t=>{p(t.target.value)},className:"px-5 py-3 border-2 border-gray-400 mt-2 min-h-[120px] focus:outline-none rounded-md"})]}),e.jsxs("div",{className:"flex flex-col w-full mt-4",children:[e.jsx("label",{htmlFor:"details",className:"text-gray-500 text-xl",children:"Product Details (If Scraped Don't Edit it.)"}),e.jsx("textarea",{type:"text",name:"Product Details",id:"details",placeholder:"description",value:j,onChange:t=>{h(t.target.value)},className:"px-5 py-3 border-2 border-gray-400 mt-2 min-h-[120px] focus:outline-none rounded-md"})]}),e.jsxs("div",{className:"flex font2 flex-col w-[45%] sm:w-full gap-2",children:[e.jsx("label",{htmlFor:"price",className:"text-gray-500 text-xl",children:"Price"}),e.jsx("input",{type:"number",name:"price",id:"price",placeholder:"Price",value:v,onChange:t=>{F(t.target.value)},className:"px-5 font2 py-3 border-2  border-gray-400 focus:outline-none rounded-md"})]})]}),e.jsxs("div",{className:"w-full flex justify-between flex-wrap gap-4 mt-5",children:[e.jsxs("div",{className:"flex flex-col w-[45%] sm:w-full  gap-2",children:[e.jsx("label",{htmlFor:"brand",className:"text-gray-500 text-xl",children:"Brand"}),e.jsxs("select",{name:"brand",id:"brand",placeholder:"Choose Brand",value:b,onChange:t=>{q(t.target.value)},className:"px-5 py-3 border-2 border-gray-400 focus:outline-none rounded-md",children:[e.jsx("option",{value:"",children:"select"}),C==null?void 0:C.allBrand.map(t=>e.jsx("option",{value:t._id,children:t.name},t._id))]})]}),e.jsxs("div",{className:"flex flex-col w-[45%] sm:w-full gap-2",children:[e.jsx("label",{htmlFor:"discount",className:"text-gray-500 text-xl",children:"Discount"}),e.jsx("input",{type:"number",name:"discount",id:"discount",placeholder:"discount",value:k,onChange:t=>{D(t.target.value)},className:"px-5 py-3 border-2 border-gray-400 focus:outline-none rounded-md"})]})]}),e.jsxs("div",{className:"w-full flex flex-wrap sm:gap-4  justify-between mt-5 ",children:[e.jsxs("div",{className:"flex flex-col w-[45%] sm:w-full  gap-2",children:[e.jsx("label",{htmlFor:"category",className:"text-gray-500 text-xl",children:"Category"}),e.jsxs("select",{name:"category",id:"category",placeholder:"Choose Category",value:N,onChange:t=>{U(t.target.value)},className:"px-5 py-3 border-2 border-gray-400 focus:outline-none rounded-md",children:[e.jsx("option",{value:"",children:"select"}),S==null?void 0:S.allCategory.map(t=>e.jsx("option",{value:t._id,children:t.name},t._id))]})]}),e.jsxs("div",{className:"flex flex-col w-[45%] sm:w-full gap-2",children:[e.jsx("label",{htmlFor:"stock",className:"text-gray-500 text-xl",children:"Count in Stock"}),e.jsx("input",{type:"number",name:"stock",id:"stock",placeholder:"stock",value:B,onChange:t=>{P(t.target.value)},className:"px-5 py-3 border-2 border-gray-400 focus:outline-none rounded-md"})]})]}),e.jsx("div",{className:"w-full flex mt-5",children:e.jsx("button",{onClick:_,className:"w-[160px] bg-[#525CEB] capitalize text-[18px] tracking-wider font-[350] py-3 rounded-lg text-white ",children:"Submit"})})]})]})})};export{Z as default};
