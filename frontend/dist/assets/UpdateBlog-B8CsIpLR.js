import{r,f as b,d as v,j as e}from"./index-C4qijYKD.js";import{B as l}from"./react-toastify.esm-BahYd6mB.js";import{a as N,c as B,d as E}from"./blogSlice-De364sng.js";import{u as k}from"./productSlice-B_do_W5p.js";const H=()=>{const[c,i]=r.useState(""),[d,p]=r.useState(""),[a,x]=r.useState(""),{id:o}=b(),{data:s,isLoading:C}=N(o),[g]=B(),[f]=E(),u=v(),[h]=k();r.useEffect(()=>{p(s==null?void 0:s.blog),i(s==null?void 0:s.title),x(s==null?void 0:s.image)},[s]);const w=async t=>{const m=new FormData;m.append("image",t.target.files[0]);try{const n=await h(m).unwrap();x(n.image)}catch(n){console.log(n)}},j=async()=>{try{const t=await g({title:c,blog:d,image:a,_id:o});t.error?l.error(t.error):(l.success("blog is updated successfully"),u("/blog"))}catch(t){l.error(t.data.error||t.error)}},y=async()=>{try{const t=await f(o);l.success("blog is deleted successfully"),u("/blog")}catch(t){l.error(t.data.error||t.error)}};return e.jsxs("div",{className:"w-full min-h-screen flex-wrap flex smd:flex-col  items-start justify-around smd:justify-start smd:items-center  p-7 md:px-4  smd:p-5 gap-10 md:gap-3",children:[e.jsxs("div",{className:"flex relative flex-col w-[320px] justify-start gap-12 min-h-[320px] items-center  rounded-[20px]",children:[e.jsxs("div",{className:"w-full h-[180px] flex justify-center items-center group rounded-[20px] bg-[#EDEBE9] ",children:[e.jsx("img",{src:a,alt:"",className:`w-[228px] bg-transparent h-[137px] object-contain ${a?"block":"hidden"} `}),e.jsx("div",{className:"absolute w-full h-[180px] left-0 top-0",children:e.jsxs("label",{className:`w-full h-full overflow-hidden  shadow-md shadow-slate-400 bg-[#EDEBE9] smd:bg-transparent flex-wrap text-black ${a?"hidden":"flex"} rounded-[20px] group-hover:flex justify-center items-center gap-2 flex-col px-10 py-8`,children:[a?a.name:"Upload Main Image",e.jsx("input",{type:"file",accept:"image/*",name:"image",onChange:w,className:`${a?"text-black":"hidden"} `})]})})]}),e.jsxs("div",{className:"flex flex-col w-full gap-3",children:[e.jsx("label",{htmlFor:"name",children:"Title"}),e.jsx("input",{type:"text",className:"focus:outline-none px-3 py-2 border-[2px] border-black rounded-lg",value:c,onChange:t=>{i(t.target.value)}})]})]}),e.jsxs("div",{className:"flex flex-col w-[380px] md:w-[280px] smd:w-[320px] relative  left-0 items-start  gap-5 ",children:[e.jsx("div",{className:"flex flex-col w-full gap-3 items-center justify-between",children:e.jsxs("div",{className:"flex flex-col w-full gap-3",children:[e.jsx("label",{htmlFor:"",children:"Blog"}),e.jsx("textarea",{placeholder:"Write your blog here ",name:"",id:"",cols:"20",rows:"10",className:"border-[2px] h-[180px] focus:outline-none border-gray-400 px-3 py-2 rounded-md ",value:d,onChange:t=>{p(t.target.value)}})]})}),e.jsxs("div",{className:"flex gap-3 flex-wrap vsm:justify-center",children:[e.jsx("button",{onClick:j,className:"w-[160px] bg-[#525CEB] h-[50px] py-3 capitalize text-[18px] tracking-wider font-[350] rounded-lg text-white ",children:"Update"}),e.jsx("button",{onClick:y,className:"w-[160px] bg-red-500 py-3 capitalize text-[18px] tracking-wider font-[350] rounded-lg text-white ",children:"Delete"})]})]})]})};export{H as default};
