import{d as y,f as v,r as l,j as e}from"./index-C4qijYKD.js";import{B as r}from"./react-toastify.esm-BahYd6mB.js";import{c as N,d as E,b as P}from"./projectSlice-P0ENP5if.js";import{u as k}from"./productSlice-B_do_W5p.js";const M=()=>{const n=y(),{id:o}=v(),[s,i]=l.useState(""),[d,p]=l.useState(""),[x,u]=l.useState(""),[f]=k(),[g]=N(),[h]=E(),{data:a,isLoading:D}=P(o),j=async t=>{const m=new FormData;m.append("image",t.target.files[0]);try{const c=await f(m).unwrap();i(c.image)}catch(c){console.log(c)}};l.useEffect(()=>{i(a==null?void 0:a.image),p(a==null?void 0:a.title),u(a==null?void 0:a.description)},[a]);const w=async()=>{try{const t=await g({title:d,description:x,image:s,_id:o}).unwrap();console.log(t),t.error?r.error(t.error):(r.success("project is updated "),n("/project"))}catch(t){console.log(t),r.error(t.data.error||t.error)}},b=async()=>{try{const t=await h(o).unwrap();r.success("project deleted successfully"),n("/project")}catch(t){r.error(t.data.error||t.error)}};return e.jsxs("div",{className:"w-full min-h-screen flex-wrap flex smd:flex-col  items-start justify-around smd:justify-start smd:items-center  p-7 md:px-4  smd:p-5 gap-10 md:gap-3",children:[e.jsxs("div",{className:"flex relative flex-col w-[320px] justify-start gap-12 min-h-[320px] items-center  rounded-[20px]",children:[e.jsxs("div",{className:"w-full h-[180px] flex justify-center items-center group rounded-[20px] bg-[#EDEBE9] ",children:[e.jsx("img",{src:s,alt:"",className:`w-[228px] bg-transparent h-[137px] object-contain ${s?"block":"hidden"} `}),e.jsx("div",{className:"absolute w-full h-[180px] left-0 top-0",children:e.jsxs("label",{className:`w-full h-full overflow-hidden  shadow-md shadow-slate-400 bg-[#EDEBE9] smd:bg-transparent flex-wrap text-black ${s?"hidden":"flex"} rounded-[20px] group-hover:flex justify-center items-center gap-2 flex-col px-10 py-8`,children:[s?s.name:"Upload Main Image",e.jsx("input",{type:"file",accept:"image/*",name:"image",onChange:j,className:`${s?"text-black":"hidden"} `})]})})]}),e.jsxs("div",{className:"flex flex-col w-full gap-3",children:[e.jsx("label",{htmlFor:"name",children:"Title"}),e.jsx("input",{type:"text",className:"focus:outline-none px-3 py-2 border-[2px] border-black rounded-lg",value:d,onChange:t=>{p(t.target.value)}})]})]}),e.jsxs("div",{className:"flex flex-col w-[380px] md:w-[280px] smd:w-[320px] relative  left-0 items-start  gap-5 ",children:[e.jsx("div",{className:"flex flex-col w-full gap-3 items-center justify-between",children:e.jsxs("div",{className:"flex flex-col w-full gap-3",children:[e.jsx("label",{htmlFor:"",children:"Description"}),e.jsx("textarea",{placeholder:"Write your blog here ",name:"",id:"",cols:"20",rows:"10",className:"border-[2px] h-[180px] focus:outline-none border-gray-400 px-3 py-2 rounded-md ",value:x,onChange:t=>{u(t.target.value)}})]})}),e.jsxs("div",{className:"flex gap-3 flex-wrap vsm:justify-center",children:[e.jsx("button",{onClick:w,className:"w-[160px] bg-[#525CEB] h-[50px] py-3 capitalize text-[18px] tracking-wider font-[350] rounded-lg text-white ",children:"Update"}),e.jsx("button",{onClick:b,className:"w-[160px] bg-red-500 py-3 capitalize text-[18px] tracking-wider font-[350] rounded-lg text-white ",children:"Delete"})]})]})]})};export{M as default};
